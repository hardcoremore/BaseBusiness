<?xml version="1.0" encoding="utf-8"?>
<ui:SkinBase xmlns:fx="http://ns.adobe.com/mxml/2009" 
		xmlns:s="library://ns.adobe.com/flex/spark" 
		xmlns:mx="library://ns.adobe.com/flex/mx"
		xmlns:Library="com.desktop.system.Application.Library.*" 
		xmlns:Group="com.desktop.ui.Components.Group.*" 
		xmlns:ui="com.desktop.system.Application.Library.ui.*">
	<!-- host component -->
	<fx:Metadata>
		[HostComponent("com.desktop.ui.Components.Group.LoadingContainer")]
	</fx:Metadata>
	<fx:Script>
		<![CDATA[
			import flash.geom.Matrix;
			import flash.utils.setTimeout;
			
			import spark.filters.GlowFilter;
			
			
			override protected function updateDisplayList(unscaledWidth:Number, unscaledHeight:Number):void
			{
				super.updateDisplayList(unscaledWidth, unscaledHeight );
				
				if( loadingMessageLabel )
				{
					loadingMessageLabel.x = loadingGroup.width / 2 - loadingMessageLabel.width / 2;
					loadingMessageLabel.y = loadingGroup.height / 2  - loadingMessageLabel.height / 2 ;
				}
				
				if( spinningDonut )
				{
					spinningDonut.x =  loadingMessageLabel.x + loadingMessageLabel.width / 2;
					spinningDonut.y =  loadingMessageLabel.y + loadingMessageLabel.height / 2;	
				}
				
			}
			
		]]>
	</fx:Script>
	
	<ui:states>
		<s:State name="normal" />
		<s:State name="loading" />
		<s:State name="disabled" />
	</ui:states>
	
	<s:Group id="contentGroup" minHeight="0" minWidth="0" left="0" right="0" top="0" bottom="0">
	</s:Group>
	
	<s:Group  id="loadingGroup" width="100%" height="100%" includeIn="loading">
		
		<s:Rect width="100%" height="100%" x="0" y="0" id="loadingBackground">
			<s:fill>
				<s:SolidColor color="0xFFFFFF" alpha=".5" color.disabled="#CCFFFF"/>
			</s:fill>
		</s:Rect>
		
		<Group:LoadingAnimation id="spinningDonut" width="256" height="256" x="128" y="128" includeIn="loading"
				 filters="{[new spark.filters.GlowFilter(0,1, 6,6,1,3), new spark.filters.GlowFilter(0xFFFFFF, 1, 6, 6, 1, 3, true) ]}">
			
		</Group:LoadingAnimation>
		
		<s:Label id="loadingMessageLabel" 
				 fontSize="35" 
				 color="#FFFFFF"
				 textAlign="center"
				 width="90"
				 filters="{[new spark.filters.GlowFilter(0, .8, 3.9, 3.9, 1.2, 1)]}" />  
		
	</s:Group>
	
	
	
</ui:SkinBase>
